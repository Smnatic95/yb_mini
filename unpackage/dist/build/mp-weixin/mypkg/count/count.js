(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["mypkg/count/count"],{"04e2":function(t,e,n){},"09be":function(t,e,n){"use strict";n.r(e);var r=n("2225"),o=n("fbf4");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("3297");var i,a=n("f0c5"),c=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=c.exports},2225:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return r}));var r={uniForms:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(n.bind(null,"8862"))},uniFormsItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(n.bind(null,"70d5"))},uniEasyinput:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput")]).then(n.bind(null,"2c66"))},uniDrawer:function(){return n.e("uni_modules/uni-drawer/components/uni-drawer/uni-drawer").then(n.bind(null,"d344"))}},o=function(){var t=this,e=t.$createElement;t._self._c},u=[]},3297:function(t,e,n){"use strict";var r=n("04e2"),o=n.n(r);o.a},8532:function(t,e,n){"use strict";(function(t){n("b43d");r(n("66fd"));var e=r(n("09be"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},af42:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("a34a")),o=n("2f62"),u=i(n("c11c"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,r,o,u,i){try{var a=t[u](i),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function i(t){a(u,r,o,i,c,"next",t)}function c(t){a(u,r,o,i,c,"throw",t)}i(void 0)}))}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={mixins:[u.default],data:function(){return{countForm:{counter_type:1,pet_type:1,pet_age:0,pet_weight:"",protein:null,fat:null,carbonwater:null},breadlist:[{id:1,name:"黑金猫粮",protein:"42.02",fat:"20.20",carbonwater:"26.00"},{id:2,name:"幼猫粮",protein:"41.40",fat:"21.20",carbonwater:"26.00"},{id:3,name:"成猫粮",protein:"41.40",fat:"21.20",carbonwater:"26.00"}]}},computed:f(f(f({isCatChecked:function(){return 1==this.countForm.pet_type}},(0,o.mapState)("pet",["petList"])),(0,o.mapState)("user",["userInfo"])),{},{ageArr:function(){return 1==this.countForm.pet_type?["请选择宠物年龄","小于4个月","4-6个月","6-8个月","8-10个月","10个月以上"]:["请选择宠物年龄","小于4个月","4-6个月","6-10个月","10个月以上"]}}),onLoad:function(e){var n=t.getStorageSync("parent_id");console.log("页面参数的parent_id:",e.parent_id,"本地parent_id:",n),t.setStorageSync("parent_id",n||e.parent_id)},methods:{chooseBread:function(t){console.log(t),this.countForm.protein=t.protein,this.countForm.fat=t.fat,this.countForm.carbonwater=t.carbonwater,this.$refs.breadList.close()},radioClick:function(t){this.countForm.pet_age=0,this.countForm.pet_type=t},tabClick:function(t){this.countForm.counter_type=t},importpetData:function(){this.$refs.PetList.open()},importBreadData:function(){this.$refs.breadList.open()},choosePet:function(t){this.$refs.PetList.close();var e=(((new Date).getTime()-new Date(t.birthday).getTime())/1e3/60/60/24/30).toFixed(2);console.log(e),1==t.type?e<4?e=1:e>4&&e<=6?e=2:e>6&&e<=8?e=3:e>8&&e<=10?e=4:e>10&&(e=5):e<4?e=1:e>4&&e<=6?e=2:e>6&&e<=10?e=3:e>10&&(e=4),console.log(e),this.countForm.pet_age=e,this.countForm.pet_weight=t.weight,this.countForm.pet_type=t.type},ageCange:function(t){this.countForm.pet_age=t.detail.value},submitForm:function(){var e=this;return c(r.default.mark((function n(){var o,u,i,a,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(u in n.prev=0,o={},e.countForm)o[u]=e.countForm[u];1==o.counter_type&&(i=["protein","fat","carbonwater"],i.forEach((function(t){delete o[t]}))),n.t0=r.default.keys(o);case 5:if((n.t1=n.t0()).done){n.next=16;break}if(u=n.t1.value,o[u]){n.next=9;break}return n.abrupt("return",t.$showMsg("信息不完整"));case 9:if(isNaN(Number(o[u]))){n.next=13;break}o[u]=Number(o[u]),n.next=14;break;case 13:return n.abrupt("return",t.$showMsg("请输入数字"));case 14:n.next=5;break;case 16:return n.next=18,t.$http.post("pet_counter/",{pet_list:o});case 18:if(a=n.sent,c=a.data,console.log(c),200!=c.code){n.next=25;break}t.navigateTo({url:"../count-success/count-success?countForm=".concat(JSON.stringify(o),"&res=").concat(JSON.stringify(c))}),n.next=26;break;case 25:throw new Error("请求出错");case 26:n.next=31;break;case 28:n.prev=28,n.t2=n["catch"](0),console.log(n.t2);case 31:case"end":return n.stop()}}),n,null,[[0,28]])})))()},gotoAddPet:function(){t.navigateTo({url:"../add_pet/add_pet"})}}};e.default=p}).call(this,n("543d")["default"])},fbf4:function(t,e,n){"use strict";n.r(e);var r=n("af42"),o=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);e["default"]=o.a}},[["8532","common/runtime","common/vendor"]]]);