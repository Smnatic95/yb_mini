(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/orders/orders"],{"03ba":function(t,e,r){},"060f":function(t,e,r){"use strict";var n=r("03ba"),i=r.n(n);i.a},"384f":function(t,e,r){"use strict";r.r(e);var n=r("74b8"),i=r("b93b");for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);r("7649");var a,u=r("f0c5"),c=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=c.exports},"46e1":function(t,e,r){"use strict";r.r(e);var n=r("4c11"),i=r.n(n);for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"4c11":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{orderList:[]}},onLoad:function(){this.orderList=JSON.parse(t.getStorageSync("orderList")||"[]"),console.log(this.orderList)},methods:{gotoMark:function(){t.navigateTo({url:"/subpkg/tomark/tomark"})},gotoCommentDetail:function(){t.navigateTo({url:"/subpkg/comment_detail/comment_detail"})},gotoTrick:function(){t.navigateTo({url:"/subpkg/track/track"})}}};e.default=r}).call(this,r("543d")["default"])},"74b8":function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,r=(t._self._c,t.__map(t.orderList1,(function(e,r){var n=t.__get_orig(e),i=t.orderList1&&t.orderList1.length?(Number(e.price)+Number(e.freight)-Number(e.coupon)).toFixed(2):null;return{$orig:n,g0:i}})));t.$mp.data=Object.assign({},{$root:{l0:r}})},o=[]},7649:function(t,e,r){"use strict";var n=r("b44b"),i=r.n(n);i.a},b44b:function(t,e,r){},b93b:function(t,e,r){"use strict";r.r(e);var n=r("e7f7"),i=r.n(n);for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},c4d1:function(t,e,r){"use strict";(function(t){r("b43d");n(r("66fd"));var e=n(r("384f"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("543d")["createPage"])},e7e4:function(t,e,r){"use strict";r.r(e);var n=r("ef2e"),i=r("46e1");for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);r("060f");var a,u=r("f0c5"),c=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=c.exports},e7f7:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r("a34a")),i=o(r("e7e4"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return l(t)||f(t,e)||c(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)if(r.push(a.value),e&&r.length===e)break}catch(c){i=!0,o=c}finally{try{n||null==u["return"]||u["return"]()}finally{if(i)throw o}}return r}}function l(t){if(Array.isArray(t))return t}function d(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){d(o,n,i,a,u,"next",t)}function u(t){d(o,n,i,a,u,"throw",t)}a(void 0)}))}}var v={components:{myOrders:i.default},data:function(){return{tabsItem:[{type:"待支付",id:0},{type:"待发货",id:1},{type:"待收货",id:1},{type:"已完成",id:2},{type:"退款/退货",id:3}],active:null,type:0,orderList1:null}},onLoad:function(t){this.active=Number(t.index),this.type=this.tabsItem[this.active].id,this.getOrderList()},methods:{activeChaned:function(t,e){this.active=t,this.type=e,this.getOrderList()},getOrderList:function(){var e=this;return p(n.default.mark((function r(){var i,o,a,u;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.orderList1=null,i=JSON.parse(t.getStorageSync("userInfo")),o=i.mobile,r.next=4,t.$http.get("order_user/".concat(o,"/").concat(e.type,"/"));case 4:if(a=r.sent,u=a.data,200===u.code){r.next=8;break}return r.abrupt("return",t.$showMsg(u.msg));case 8:u.lists=u.lists||[],1==e.active&&(u.lists=u.lists.filter((function(t){return!t.tracking_number}))),2==e.active&&(u.lists=u.lists.filter((function(t){return t.tracking_number}))),u.lists=u.lists.sort((function(t,e){return new Date(e.create_time).getTime()-new Date(t.create_time).getTime()})),console.log(u),e.orderList1=u.lists;case 14:case"end":return r.stop()}}),r)})))()},gotoPay:function(e){var r=this;return p(n.default.mark((function i(){var o,u,c,s,f,l,d,p;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("wx_payment/"+e.order_id+"/");case 2:return o=n.sent,u=o.data.params,console.log(u),n.next=7,t.requestPayment({timeStamp:String(u.timeStamp),nonceStr:u.nonceStr,package:"prepay_id="+u.prepay_id,signType:"MD5",paySign:u.sign});case 7:return c=n.sent,s=a(c,2),f=s[0],l=s[1],console.log("微信支付结果",f,l),n.next=14,t.$http.get("wxeck_order/"+e.order_id+"/");case 14:d=n.sent,p=d.data,t.$showMsg(p.msg),200===p.code?(r.active=1,r.type=1,r.getOrderList()):400===p.code&&console.log("支付失败");case 18:case"end":return n.stop()}}),i)})))()},copyTrackingNumber:function(e){t.setClipboardData({data:e,success:function(){t.$showMsg("物流单号复制成功")}})},confirmG:function(e){var r=this;return p(n.default.mark((function i(){var o,a;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("order_true/"+e.order_id+"/");case 2:o=n.sent,a=o.data,t.$showMsg(a.msg),200==a.code&&(r.active=3,r.type=2,r.getOrderList());case 6:case"end":return n.stop()}}),i)})))()}}};e.default=v}).call(this,r("543d")["default"])},ef2e:function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=[]}},[["c4d1","common/runtime","common/vendor"]]]);