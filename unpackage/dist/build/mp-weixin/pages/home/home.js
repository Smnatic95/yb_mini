(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{"083c":function(t,e,n){},1790:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uniGrid:function(){return n.e("uni_modules/uni-grid/components/uni-grid/uni-grid").then(n.bind(null,"54cf"))},uniGridItem:function(){return n.e("uni_modules/uni-grid/components/uni-grid-item/uni-grid-item").then(n.bind(null,"7872"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"39de"))},homeGoodsitem:function(){return Promise.all([n.e("common/vendor"),n.e("components/home-goodsitem/home-goodsitem")]).then(n.bind(null,"f2e6"))},uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-popup/components/uni-popup/uni-popup")]).then(n.bind(null,"5055"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(t){return this.$refs.popupAsk.close()})},i=[]},3419:function(t,e,n){"use strict";n.r(e);var r=n("96ae"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},8482:function(t,e,n){"use strict";var r=n("083c"),o=n.n(r);o.a},"96ae":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("a34a")),o=n("2f62"),i=c(n("deb6")),u=c(n("f9a6")),s=c(n("c11c"));function c(t){return t&&t.__esModule?t:{default:t}}function a(t){return p(t)||d(t)||f(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,o,i,u){try{var s=t[i](u),c=s.value}catch(a){return void n(a)}s.done?e(c):Promise.resolve(c).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){m(i,r,o,u,s,"next",t)}function s(t){m(i,r,o,u,s,"throw",t)}u(void 0)}))}}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={mixins:[i.default,u.default,s.default],data:function(){return{active:0,goodsListAll:[],goodsList:[],hotList:[],newList:null,parent_id:"",swiperList:[{key:"petDoc",imgurl:t.$baseUrl1+"yb-banner-001.jpg"},{imgurl:t.$baseUrl1+"yb-banner-002.jpg",url:"/mypkg/vip/vip"},{imgurl:t.$baseUrl1+"yb-banner-003.jpg",url:"/mypkg/score-goods/score-goods"}],cateScrollTO:"demo1"}},computed:v(v({},(0,o.mapState)("home",["scrollList"])),(0,o.mapState)("user",["userInfo"])),onLoad:function(){this.getHotList(),this.getNewList(),this.getGoodsList()},methods:{getHotList:function(){var e=this;return h(r.default.mark((function n(){var o,i,u,s;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("user_hots_skus/");case 2:if(o=n.sent,i=o.data,200===i.code){n.next=6;break}return n.abrupt("return",t.$showMsg(i.msg));case 6:e.hotList=i.lists,e.hotList.forEach((function(t){32!==t.id&&33!==t.id&&34!==t.id||(t.market_price=(4*Number(t.market_price)).toFixed(2),t.price=(4*Number(t.price)).toFixed(2))})),u=i.lists.filter((function(t){return t.stock>0})),s=i.lists.filter((function(t){return 0==t.stock})),e.hotList=[].concat(a(u),a(s));case 11:case"end":return n.stop()}}),n)})))()},getNewList:function(){var e=this;return h(r.default.mark((function n(){var o,i,u;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("user_news_skus/");case 2:if(o=n.sent,i=o.data,200===i.code){n.next=6;break}return n.abrupt("return",t.$showMsg(i.msg));case 6:console.log(i.lists),u=[[]],i.lists.forEach((function(t,e){u[u.length-1].length<3?u[u.length-1].push(t):u[u.length]=[t]})),e.newList=u;case 10:case"end":return n.stop()}}),n)})))()},getGoodsList:function(){var e=this;return h(r.default.mark((function n(){var o,i,u,s;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("user_skus/");case 2:if(o=n.sent,i=o.data,200===i.code){n.next=6;break}return n.abrupt("return",t.$showMsg(i.msg));case 6:e.goodsListAll=i.lists,e.goodsListAll.forEach((function(t){32!=t.id&&33!=t.id&&34!=t.id||(t.market_price=(4*Number(t.market_price)).toFixed(2),t.price=(4*Number(t.price)).toFixed(2))})),u=e.goodsListAll.filter((function(t){return t.stock>0})),s=e.goodsListAll.filter((function(t){return 0==t.stock})),e.goodsList=[].concat(a(u),a(s));case 11:case"end":return n.stop()}}),n)})))()},activeChanged:function(t,e){if(this.active=e,this.cateScrollTO=e<2?"demo0":"demo"+(e-2),!t.type&&0!=t.type)return this.getGoodsList();var n=a(this.goodsListAll.filter((function(e){return e.type==t.type}))),r=n.filter((function(t){return t.stock>0})),o=n.filter((function(t){return 0==t.stock}));this.goodsList=[].concat(a(r),a(o))},getKefuWechat:function(e){var n=this;return h(r.default.mark((function e(){var o,i,u,s;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.userInfo&&n.userInfo.mobile?n.userInfo.mobile:"",e.next=3,t.$http.get("sale_qrcode/".concat(o,"/"));case 3:i=e.sent,u=i.data,s=t.$baseUrl1+u.image,t.previewImage({urls:[s],current:s});case 7:case"end":return e.stop()}}),e)})))()},swiperClick:function(e){e.url?t.navigateTo({url:e.url}):"petDoc"==e.key&&(console.log(1111111111),this.$refs.popupAsk.open())},gotoSearch:function(){t.navigateTo({url:"/subpkg/search/search"})},gotoGoodsDetail:function(e){console.log(e),t.navigateTo({url:"/subpkg/goods_detail/goods_detail?id=".concat(e.id,"&goods_stock=").concat(e.stock,"&goods_img=").concat(e.img,"&weight=").concat(e.weight)})},gotoHomeMore:function(e){t.navigateTo({url:"/subpkg/home-more/home-more?type="+e})},gotoSeckill:function(){t.navigateTo({url:"/mypkg/seckill/seckill"})},gotoAddress:function(){t.navigateTo({url:"/mypkg/address/address"})},gotoCardActive:function(){t.navigateTo({url:"/mypkg/card-active/card-active"})},gotoPublic:function(){t.navigateTo({url:"/mypkg/public-welfare/public-welfare"})},gotoLottery:function(){t.navigateTo({url:"/mypkg/lottery/lottery"})},gotoCount:function(){t.navigateTo({url:"/mypkg/count/count"})}},onPullDownRefresh:function(){this.getHotList(),this.getNewList(),this.getGoodsList(),t.stopPullDownRefresh()}};e.default=k}).call(this,n("543d")["default"])},a934:function(t,e,n){"use strict";n.r(e);var r=n("1790"),o=n("3419");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("8482");var u,s=n("f0c5"),c=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);e["default"]=c.exports},f2620:function(t,e,n){"use strict";(function(t){n("b43d");r(n("66fd"));var e=r(n("a934"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["f2620","common/runtime","common/vendor"]]]);