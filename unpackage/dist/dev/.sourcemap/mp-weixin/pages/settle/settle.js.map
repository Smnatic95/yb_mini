{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?be93","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?bdf0","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?d10d","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?711a","uni-app:///pages/settle/settle.vue","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?c8de","webpack:///C:/Users/PC/Desktop/yb_mini/pages/settle/settle.vue?120e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgFpnB,gD;;;;;;;;;;AAUA,0C,CAHA,c,yBAAA,U,CACA,Y,yBAAA,Q,CACA,gB,yBAAA,Y;;;;;AAMA,6C,CAFA,e,0BAAA,Q,CACA,mB,0BAAA,Y;;AAGA;AACA,MADA,kBACA;AACA;AACA,oBADA,EACA;AACA,iBAFA;AAGA,gBAHA;AAIA,eAJA;AAKA,kBALA;AAMA,8BANA,CAMA;AANA;AAQA,GAVA;AAWA;AACA,4CADA;AAEA,8EAFA;AAGA,kFAHA;;AAKA;AACA,cANA,wBAMA;AACA;AACA,yBADA,EACA,OADA,CACA,CADA;AAEA,KATA,GAXA;;AAsBA,QAtBA,oBAsBA;AACA;AACA;AACA;AACA;AACA,GA3BA;AA4BA,UA5BA,sBA4BA;AACA;AACA;AACA,GA/BA;AAgCA;AACA,6CADA;AAEA,6CAFA;;AAIA;AACA,kBALA,4BAKA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAdA;;AAgBA;AACA,oBAjBA,8BAiBA;AACA;AACA,KAnBA;;AAqBA;AACA,iBAtBA,yBAsBA,IAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,KA9CA;;AAgDA;AACA,YAjDA,sBAiDA;AACA;AACA;AACA;AACA,KArDA;AAsDA,SAtDA,mBAsDA;AACA,0BADA,GACA,EADA;AAEA;AACA;AACA,kCADA;AAEA,kCAFA;AAGA,gDAHA;AAIA,sCAJA;AAKA,2FALA;;AAOA,iBARA;AASA,oBAXA,GAWA;AACA,oEADA;AAEA,6CAFA;AAGA,wCAHA;AAIA,6CAJA;AAKA,mDALA;AAMA,4DANA;AAOA,wCAPA,EAXA;;AAoBA;AApBA;;AAuBA,mDAvBA,+CAsBA,GAtBA,yBAsBA,IAtBA;AAwBA,mEAxBA,SAwBA,IAxBA;AAyBA,sBAzBA,GAyBA,gBAzBA;AA0BA;AACA,yDADA;AAEA,+CAFA;AAGA,8DAHA;AAIA,qCAJA;AAKA,0CALA,GA1BA,kHA0BA,IA1BA,6BA0BA,IA1BA;;AAiCA,wCAjCA;AAkCA,KAxFA;;AA0FA;AACA,oBA3FA,8BA2FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApKA;;;AAuKA,eAvKA,uBAuKA,IAvKA,EAuKA;AACA;AACA;AACA,4EADA;;AAGA;AACA,OALA,MAKA;AACA;AACA,4EADA;;AAGA;AACA;AACA,KAnLA,GAhCA,E;;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAAkmC,CAAgB,4kCAAG,EAAC,C;;;;;;;;;;;ACAtnC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/settle/settle.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/settle/settle.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./settle.vue?vue&type=template&id=362ca366&\"\nvar renderjs\nimport script from \"./settle.vue?vue&type=script&lang=js&\"\nexport * from \"./settle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settle.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/settle/settle.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./settle.vue?vue&type=template&id=362ca366&\"","var components\ntry {\n  components = {\n    addressItem: function() {\n      return import(\n        /* webpackChunkName: \"components/address-item/address-item\" */ \"@/components/address-item/address-item.vue\"\n      )\n    },\n    goodsItem: function() {\n      return import(\n        /* webpackChunkName: \"components/goods-item/goods-item\" */ \"@/components/goods-item/goods-item.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./settle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./settle.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"page\">\r\n\r\n    <!-- 切换地址 -->\r\n    <view class=\"change-btn\" v-if=\"is_public_address\">\r\n      <view :class=\"addressType==1?'active':''\" @click='gotoAddress(1)'>个人</view>\r\n      <view :class=\"addressType==2?'active':''\" @click='gotoAddress(2)'>公益</view>\r\n    </view>\r\n\r\n    <!-- 地址 -->\r\n    <view @click='gotoAddress'>\r\n      <address-item v-if=\"user_checked_address.receiver\" :address=\"user_checked_address\"></address-item>\r\n      <view class=\"add-address\" v-else>+ 添加地址</view>\r\n    </view>\r\n\r\n    <!-- 商品列表 -->\r\n    <block v-for=\"(item,i) in cart_list\" :key='i'>\r\n      <goods-item :goods=\"item\" :is_vip=\"is_vip\" v-show='item.is_checked' :showRadio=\"false\" :showNumBox='false'\r\n        :showNum='true'>\r\n      </goods-item>\r\n    </block>\r\n    <view class=\"sub\">\r\n      <view>共{{checkedCount}}件</view>\r\n      <view>小计:￥<text>{{is_vip?checkedGoodsAmount_vip:checkedGoodsAmount}}</text></view>\r\n    </view>\r\n\r\n    <!-- 优惠券 -->\r\n    <view class=\"coupons-box\">\r\n      <!-- <view class=\"item\">\r\n        <view class=\"title\">小计</view>\r\n        <view class=\"discount\">￥ {{checkedGoodsAmount}}</view>\r\n      </view> -->\r\n      <view class=\"item\">\r\n        <view class=\"title\">优惠券</view>\r\n        <view class=\"discount\" v-if=\"coupon!==0\" @click=\"showCouponsPopup\">-￥ {{coupon}}</view>\r\n        <view class=\"else\" v-else @click=\"showCouponsPopup\">请选择<uni-icons type=\"arrowright\" size=\"12\" color=\"\">\r\n          </uni-icons>\r\n        </view>\r\n      </view>\r\n      <view class=\"item\">\r\n        <view class=\"title\">邮费</view>\r\n        <view class=\"discount\">￥ {{postage}}</view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 提交订单按钮 -->\r\n    <view class=\"submit-box\">\r\n      <view class=\"container\">\r\n        <view class=\"price\">\r\n          合计:<text>￥{{totalPrice}}</text>\r\n        </view>\r\n        <view class=\"btn\" @click=\"onSubmit\">提交订单</view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 优惠券弹出层 -->\r\n    <uni-popup ref=\"popup\" type=\"bottom\">\r\n      <view class=\"top\">优惠券</view>\r\n      <scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" v-if=\"couponsList.length>0\">\r\n        <view class=\"scroll-item\" v-for=\"(item,i) in couponsList\" :key='i' @click=\"couponChanged(item)\">\r\n          <view class=\"left\">\r\n            <view>￥<text>{{item.price}}</text></view>\r\n            <view>满{{item.min_price}}可用</view>\r\n          </view>\r\n          <view class=\"right\">\r\n            <view>会员减10元优惠券</view>\r\n            <view>不限时</view>\r\n            <!-- <view v-else>不可用</view> -->\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n      <view class=\"no-coupon\" v-else>\r\n        <image src=\"https://7n.oripetlife.com/no-coupon.png\" mode=\"widthFix\"></image>\r\n      </view>\r\n    </uni-popup>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapState,\r\n    mapGetters,\r\n    mapMutations,\r\n    createNamespacedHelpers\r\n  } from 'vuex'\r\n  const {\r\n    mapGetters: mapGettersCart,\r\n    mapState: mapStateCart,\r\n    mapMutations: mapMutationsCart\r\n  } = createNamespacedHelpers('cart')\r\n  const {\r\n    // mapGetters: mapGettersAddress,\r\n    mapState: mapStateAddress,\r\n    mapMutations: mapMutationsAddress\r\n  } = createNamespacedHelpers('address')\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        addressType: 1, // 地址类型\r\n        postage: 10,\r\n        is_vip: '',\r\n        coupon: 0,\r\n        coupon_id: 0,\r\n        user_checked_address: {}, // 收货地址\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapStateCart(['cart_list', 'couponsList', ]),\r\n      ...mapStateAddress(['address_list', 'is_public_address', 'default_address_id']),\r\n      ...mapGettersCart(['checkedCount', 'checkedGoodsAmount', 'checkedGoodsAmount_vip']),\r\n\r\n      // 合计\r\n      totalPrice() {\r\n        return (Number(this.is_vip ? this.checkedGoodsAmount_vip : this.checkedGoodsAmount) + Number(this.postage) -\r\n          Number(this.coupon)).toFixed(2)\r\n      },\r\n    },\r\n    onShow() {\r\n      this.is_vip = JSON.parse(uni.getStorageSync('userInfo') || \"{}\").vip_active || false\r\n      this.checkedAddress()\r\n      this.couponChanged()\r\n      this.addGift()\r\n    },\r\n    onUnload() {\r\n      uni.removeStorageSync('user_checked_address')\r\n      this.deleteGift()\r\n    },\r\n    methods: {\r\n      ...mapMutationsAddress(['editCheckedAddress', ]),\r\n      ...mapMutationsCart(['addGift', 'deleteGift']),\r\n\r\n      // 收货地址\r\n      checkedAddress() {\r\n        var checked_address_stroge = uni.getStorageSync('user_checked_address')\r\n        if (checked_address_stroge) {\r\n          this.user_checked_address = JSON.parse(checked_address_stroge)\r\n          console.log(this.user_checked_address)\r\n        } else {\r\n          this.user_checked_address = this.address_list.filter(x => x.address_id == this.default_address_id)[0]\r\n        }\r\n        this.countPosterPrice()\r\n      },\r\n\r\n      // 展示优惠券弹出层\r\n      showCouponsPopup() {\r\n        this.$refs.popup.open('bottom')\r\n      },\r\n\r\n      // 切换优惠券\r\n      couponChanged(item) {\r\n        if (!item) {\r\n          // 初始化\r\n          const filterRes = this.couponsList.filter(item => item.min_price <= this.checkedGoodsAmount)\r\n          if (filterRes.length == 0) return this.coupon = 0\r\n          filterRes.forEach((item, i) => {\r\n            if (item.price > this.coupon) {\r\n              this.coupon = item.price\r\n              this.coupon_id = item.coupon_id\r\n            }\r\n          })\r\n        } else {\r\n          // 切换\r\n          if (this.checkedGoodsAmount >= item.min_price) {\r\n            this.coupon = item.price\r\n            this.coupon_id = item.coupon_id\r\n            console.log(item)\r\n            this.$refs.popup.close()\r\n          } else {\r\n            this.coupon = 0\r\n            this.coupon_id = 0\r\n            return uni.$showMsg(`商品总价小于${item.min_price}元`)\r\n          }\r\n        }\r\n      },\r\n\r\n      // 提交订单\r\n      onSubmit() {\r\n        console.log(this.user_checked_address)\r\n        if (!(this.user_checked_address && this.user_checked_address.address_id)) return uni.$showMsg('请选择收货地址！')\r\n        this.payWX()\r\n      },\r\n      async payWX() {\r\n        const goods_list = []\r\n        this.cart_list.filter(x => x.is_checked).forEach(x => {\r\n          goods_list.push({\r\n            id: x.goods_id,\r\n            price: x.price,\r\n            market_price: x.market_price,\r\n            num: x.goods_count,\r\n            total_price: (this.is_vip ? x.market_price : x.price) * x.goods_count\r\n          })\r\n        })\r\n        const form = {\r\n          address_id: this.user_checked_address.address_id,\r\n          coupon_price: this.coupon,\r\n          type: this.coupon_id,\r\n          posterPrice: this.postage,\r\n          user_id: uni.getStorageSync('id'),\r\n          parent_id: uni.getStorageSync('parent_id'),\r\n          goods_list: goods_list\r\n        }\r\n        // console.log(form)\r\n        const {\r\n          data: res\r\n        } = await uni.$http.post('wx_order/', form)\r\n        var res1 = await uni.$http.get('wx_payment/' + res.order_id + '/')\r\n        const params = res1.data.params\r\n        const [err2, res2] = await uni.requestPayment({\r\n          \"timeStamp\": String(params.timeStamp),\r\n          \"nonceStr\": params.nonceStr,\r\n          \"package\": \"prepay_id=\" + params.prepay_id,\r\n          \"signType\": \"MD5\",\r\n          \"paySign\": params.sign,\r\n        })\r\n        console.log(err2, res2)\r\n      },\r\n\r\n      // 计算邮费\r\n      countPosterPrice() {\r\n        console.log(this.cart_list.filter(x=>x.is_checked))\r\n        // console.log(this.user_checked_address)\r\n        const province_id = this.user_checked_address.address[0].value - 0\r\n        // console.log(province_id)\r\n\r\n        // 新疆 西藏 1kg+15\r\n        let arr1 = [650000, 540000]\r\n        let area1 = arr1.some(item => item === province_id)\r\n        // 甘肃 内蒙 宁夏 青海 貓砂+40\r\n        let arr2 = [620000, 150000, 640000, 630000]\r\n        let area2 = arr2.some(item => item === province_id)\r\n        // 猫砂+30\r\n        let arr3 = [230000, 220000, 210000, 520000, 460000, 450000, 530000]\r\n        let area3 = arr3.some(item => item === province_id)\r\n\r\n\r\n        // 猫砂\r\n        let maosha = this.cart_list.filter(x=>x.is_checked).some(item => item.type == 4)\r\n        // 试吃\r\n        let shichi = this.cart_list.filter(x=>x.is_checked).some(item => item.type == 7 || item.type == 8)\r\n\r\n        let price = 0\r\n        if (area1) {\r\n          // 新疆 西藏\r\n          let sum_weight = 0\r\n          this.cart_list.filter(x=>x.is_checked).forEach(item => {\r\n            sum_weight += (item.weight - 0) * item.goods_count\r\n          })\r\n          // console.log(sum_weight);\r\n          sum_weight = Math.ceil(sum_weight)\r\n          // console.log(sum_weight);\r\n          price = sum_weight * 15\r\n        } else {\r\n          // console.log(this.cart_list.filter(x=>x.is_checked));\r\n          let ms_num = 0\r\n          this.cart_list.filter(x=>x.is_checked).forEach(item => {\r\n            if (item.type == 4) ms_num = item.goods_count\r\n          })\r\n          if (area2) {\r\n            if (province_id == 150000) {\r\n              var sum = 0\r\n              this.cart_list.filter(x=>x.is_checked).forEach(item => {\r\n                sum += item.goods_count\r\n              })\r\n              if (this.totalPrice < 60 && sum < 4) {\r\n                console.log(this.totalPrice)\r\n                price = 10\r\n              } else if ((this.totalPrice - 30) < 60 && sum < 4) {\r\n                // 转介绍优惠券\r\n                if (this.payForm.coupon === 1) {\r\n                  price = 10\r\n                } else if (!this.payForm.coupon) {\r\n                  price = 0\r\n                }\r\n              }\r\n            }\r\n          }\r\n          // if (shichi) {\r\n          //   // 试吃\r\n          //   // 是否有其它产品\r\n          //   let flag = !this.cart_list.some(item => item.type != 7 && item.type != 8)\r\n          //   if (flag) {\r\n          //     price = 10\r\n          //     var sum = 0\r\n          //     this.cart_list.forEach(item => {\r\n          //       sum += item.goods_count\r\n          //     })\r\n          //     if (sum >= 4) price = 0\r\n          //   }\r\n          // }\r\n        }\r\n        this.postage = price\r\n      },\r\n\r\n\r\n      gotoAddress(type) {\r\n        if (type === 1) {\r\n          uni.navigateTo({\r\n            url: '/mypkg/address/address?from=settle&type=' + this.addressType\r\n          })\r\n          this.addressType = 2\r\n        } else {\r\n          uni.navigateTo({\r\n            url: '/mypkg/address/address?from=settle&type=' + this.addressType\r\n          })\r\n          this.addressType = 1\r\n        }\r\n      },\r\n\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .page {\r\n    padding: 10px 0 100px;\r\n\r\n    >button {\r\n      margin: 0 10px 10px;\r\n      background-color: #FFFFFF;\r\n\r\n      &::after {\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .change-btn {\r\n    display: flex;\r\n    width: 88px;\r\n    font-size: 14px;\r\n    margin: 0 0 10px 10px;\r\n    border: 1px solid #C0C8D3;\r\n    border-radius: 3px;\r\n\r\n    >view {\r\n      padding: 6rpx 16rpx;\r\n      color: #C0C8D3;\r\n\r\n      &.active {\r\n        color: #FFFFFF;\r\n        background-color: #C0C8D3;\r\n      }\r\n    }\r\n  }\r\n\r\n  .radius {\r\n    border-radius: 5px !important;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .address-item {\r\n    margin: 0 10px 10px !important;\r\n  }\r\n\r\n  .add-address {\r\n    text-align: center;\r\n    padding: 20px;\r\n    margin: 0 10px 10px;\r\n    color: #666;\r\n    background-color: #FFFFFF;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .goods-item {\r\n    margin: 0 10px;\r\n    // border-top: 1px solid #eee;\r\n  }\r\n\r\n  .sub {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: flex-end;\r\n    margin: 0 10px 0;\r\n    padding: 20px 10px 10px;\r\n    font-size: 12px;\r\n\r\n    background-color: #FFFFFF;\r\n    border-radius: 5px;\r\n\r\n    view {\r\n      margin-left: 10px;\r\n\r\n      text {\r\n        font-size: 14px;\r\n        color: tomato;\r\n      }\r\n    }\r\n  }\r\n\r\n  .coupons-box {\r\n    margin: 10px;\r\n    padding-bottom: 10px;\r\n    background-color: #FFFFFF;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n\r\n    .item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 10px 15px 0;\r\n      background-color: #FFFFFF;\r\n\r\n      .discount {\r\n        flex: 1;\r\n        text-align: right;\r\n        font-size: 12px;\r\n        color: tomato;\r\n      }\r\n\r\n      .else {\r\n        flex: 1;\r\n        text-align: right;\r\n        font-size: 12px;\r\n        color: #ccc;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  .submit-box {\r\n    position: fixed;\r\n    bottom: 0;\r\n    padding-bottom: constant(safe-area-inset-bottom);\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n\r\n    width: 100%;\r\n    background-color: #FFFFFF;\r\n\r\n    .container {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      height: 50px;\r\n      padding: 0 15px;\r\n      box-sizing: border-box;\r\n      // background-color: #007AFF;\r\n\r\n      .count {\r\n        font-size: 14px;\r\n        color: #C0C8D3;\r\n      }\r\n\r\n      .price {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 15px;\r\n\r\n        text {\r\n          font-size: 18px;\r\n          color: tomato;\r\n        }\r\n      }\r\n\r\n      .btn {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 20px;\r\n        margin-left: 10px;\r\n        color: #FFFFFF;\r\n        background-color: tomato;\r\n        border-radius: 20px;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 优惠券弹出层\r\n  .vue-ref {\r\n    background-color: #fff;\r\n    height: 450px;\r\n    // padding: 0 10px;\r\n    border-radius: 10px 10px 0 0;\r\n    overflow: hidden;\r\n\r\n    .top {\r\n      height: 50px;\r\n      line-height: 50px;\r\n      text-align: center;\r\n      font-weight: bold;\r\n      background-color: #FFFFFF;\r\n    }\r\n\r\n    scroll-view,\r\n    .no-coupon {\r\n      height: 350px;\r\n    }\r\n\r\n    scroll-view {\r\n      width: 100%;\r\n      padding: 20rpx 20rpx 0;\r\n      background-color: #f5f5f5;\r\n      box-sizing: border-box;\r\n\r\n      .scroll-item {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 10px;\r\n        height: 180rpx;\r\n\r\n        .left {\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 220rpx;\r\n          height: 100%;\r\n          text-align: center;\r\n          font-weight: bold;\r\n          color: #FFFFFF;\r\n          font-size: 36rpx;\r\n\r\n          view:nth-child(2) {\r\n            font-size: 24rpx !important;\r\n            font-weight: 400;\r\n          }\r\n\r\n          text {\r\n            font-size: 60rpx;\r\n          }\r\n        }\r\n\r\n        .right {\r\n          margin-left: 20px;\r\n          font-size: 28rpx;\r\n          line-height: 40rpx;\r\n\r\n          view:nth-child(2) {\r\n            font-size: 24rpx !important;\r\n            color: #ccc;\r\n          }\r\n        }\r\n\r\n        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArIAAAC0CAMAAABfYT+GAAACB1BMVEUAAAD///////+/v4D////////fv2Dfv4D////////qv4D////ms3P////0yHr////qv4D////////////////////tyojuv4DuxYXqv4D////////wwn7tuXP////////twX7vvHX////twX7////////////////////uu3X////////////twX3twX/////////tu3TtwX/twoDtyIntyon////syYnuxIDuyYn////uwoD////tvHXtwH3////uwn/////////uw4D////tyIn////////tu3XtwH7twX/////////tw4HsyIrtw4DtyIr////////////twX7////swH7tu3X////////syIntw4H////////swoD////////////tu3XtwX7twX/twoDtw4HtyIn////////tu3Xtu3btvHbtvHftvXftvXjtvXntvXrtvnntvnrtvnvtv3rtv3vtv3ztv33twHztwH3twH7twX3twX7twX/twYDtwn/twoDtwoHtw4Dtw4Htw4LtxILtxIPtxYPtxYTtxYXtxoXtxobtx4btx4ftx4jtyIjtyIntyYntyYrxypTxypXxy5Xxy5bxzJfxzJjxzZjxzZnxzprxzpv02bP02rP02rT02rX027X027b03Lb03Lf56tX56tb569b569f57Nf57Nj///+ldXk6AAAAanRSTlMAAgMEBQcICAkLDA8UFBcXGBwgJCYnKywsMExQU1RWbG9vcXN3eYOFhoeHiIqLi4yOj4+Pj4+Pk5OTlpeXn5+go6m9v8DDx87Pz8/P0tPX19fb4OHj5ufn6/Hz8/P19/j5+vv7+/v7+/v+bYvYiQAAB4VJREFUeNrt3Qd7FGUUxfFREBv23lAsWKKiotgbdrErFqzYgM3GxKxszMoEEIyABJHYe+8f0iQkIey8I0mMYc//nvsVzu+5zzvvzNnNsqE5+eqHVg6Ozu6PmmfX2Hw4OjubZ2BH03wwPtv3zLbm2fp+8/SPzXujs6V5Nm9qmo3j0zc0t2XJufVvD2Kef3TpiaOZzrl29eD47N6tKrbv/jTZ5Q4bM6va5o6IvWtw9sVunXmxfa8emxJ71ConDZplBw9lev3gRLK6Yvvy81Jkz3XMqGnLslNX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) no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n\r\n    }\r\n\r\n    .no-coupon {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      // line-height: 400px;\r\n      // text-align: center;\r\n      image {\r\n        width: 60%;\r\n      }\r\n    }\r\n  }\r\n</style>\n","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./settle.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./settle.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1627894016454\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}